# KiraFlux OLED

**Минималистичная библиотека для работы с OLED дисплеями SSD1306 128x64 по I2C**. Предоставляет прямой доступ к буферу дисплея и оптимизированные методы управления.

## Особенности

- **Прямой доступ к буферу**: 1024-байтный буфер для управления пикселями
- **Оптимизированное обновление**: Пакетная передача данных
- **Поддержка высокой скорости**: Работает с I2C до 1 MHz

## Установка

PlatformIO (`platformio.ini`):

```ini
lib_deps = https://github.com/KiraFlux/KiraFlux-OLED.git
```

## Использование

### Базовый пример

```cpp
#include <kf/SSD1306.h>

kf::SSD1306 oled;  // Использует адрес 0x3C по умолчанию

void setup() {
    Wire.begin();
    Wire.setClock(1000000UL);  // Установка высокой скорости (1 MHz)
    oled.init();               // Инициализация дисплея
}

void loop() {
    // Очистка буфера
    memset(oled.buffer, 0, sizeof(oled.buffer));
    
    // Рисование диагональной линии
    for (int x = 0; x < oled.width; x++) {
        int y = x / 2;
        int page = y / 8;
        int bit = y % 8;
        oled.buffer[page * oled.width + x] |= (1 << bit);
    }
    
    oled.update();  // Обновление дисплея
    delay(100);
}
```

* Для продвинутой графики рекомендуется использовать [KiraFlux-GFX](https://github.com/KiraFlux/KiraFlux-GFX.git)

### Основные методы

| Метод                | Описание                     |
|----------------------|------------------------------|
| `init()`             | Инициализация дисплея        |
| `setContrast(value)` | Установка яркости (0-255)    |
| `setPower(on)`       | Включение/выключение питания |
| `flipH(flip)`        | Отражение по горизонтали     |
| `flipV(flip)`        | Отражение по вертикали       |
| `invert(invert)`     | Инверсия цветов              |
| `update()`           | Обновление дисплея из буфера |

### Константы

| Константа     | Значение | Описание             |
|---------------|----------|----------------------|
| `width`       | 128      | Ширина дисплея       |
| `height`      | 64       | Высота дисплея       |
| `buffer_size` | 1024     | Размер буфера (байт) |

## Работа с буфером

Буфер организован в виде 8 страниц (по 8 строк каждая):

## Производительность на ESP32

- **Обновление всего экрана**: ~13 ms
- **FPS**: ~74 кадра/с при полном обновлении дисплея и использовании I2C (Arduino Wire) 1MHz

## Лицензия

MIT License. Подробности в файле [LICENSE](LICENSE).